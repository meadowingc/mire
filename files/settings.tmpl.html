{{ define "settings" }}
{{ template "head" . }}
{{ template "nav" . }}
<main class="content-page">
  <h3>Settings</h3>
  <p>your public url: <a href="/u/{{ .Username }}">mire.meadowing.club/u/{{ .Username }}</a></p>
  <p>you can view your (public) blogroll here: <a href="/u/{{ .Username }}/blogroll">mire.meadowing.club/u/{{ .Username
      }}/blogroll</a></p>

  <p>{{ len .Data }} subscriptions:</p>

  <form method="POST" action="/settings/submit">
    <textarea name="submit" rows="10" cols="50">
{{ range .Data -}}
{{ .URL }}
{{ end -}}
</textarea>
    <br>
    <input type="submit" value="subscribe">
  </form>
  {{ $length := len .Data }}
  {{ if eq $length 0 }}
  <pre>
‼️ tutorial ‼️

once you have subscribed to some feeds,
their posts will appear on your timeline.

note that all timelines are public ‼️

here are some feed urls to play with
copy them into the text box above
and press [subscribe]

https://aco.bearblog.dev/feed/
https://brandonwrites.xyz/feed/
https://craigmod.com/index.xml
https://herman.bearblog.dev/feed/
https://j3s.sh/feed.atom
https://lili.bearblog.dev/feed/
https://meadow.bearblog.dev/feed/
https://reverie.bearblog.dev/feed/
https://roytang.net/blog/feed/rss/
https://sizeof.cat/index.xml
https://tiramisu.bearblog.dev/feed/
https://www.visakanv.com/feed/


/)/)
( . .)
( づ♡
  </pre>
  {{ else if gt $length 0 }}
  <p>feed details</p>
  {{ end }}
  <pre>
{{ range .Data -}}
{{- $hasError := ne .Error "" -}}
<a href="/feeds/{{ .URL | escapeURL }}">{{ .URL }}</a> {{ if $hasError }}<span title="{{ .Error }}"
  style="cursor: pointer;">⚠️</span>{{ end }}
{{ end -}}
  </pre>
</main>
{{ template "tail" . }}
{{ end }}